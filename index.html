<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Lynx Assistant ‚Äî Manual de Comandos</title>
  <meta name="description" content="Manual de Comandos do Lynx Assistant ‚Äî instru√ß√µes, aliases e a√ß√µes" />
  <meta name="author" content="Gabriel Ara√∫jo">

  <!-- Content Security Policy (prefer aplicar no servidor em produ√ß√£o) -->
  <meta http-equiv="Content-Security-Policy"
    content="
      default-src 'self' https: data:;
      img-src 'self' https: data:;
      connect-src 'self' https:;
      script-src 'self' 'unsafe-inline';
      style-src 'self' 'unsafe-inline';
      font-src 'self' https: data:;
      object-src 'none';
      frame-ancestors 'none';
      base-uri 'self';
      form-action 'self';
    ">

  <!-- Performance: preconnect / dns-prefetch -->
  <link rel="preconnect" href="https://img.shields.io" crossorigin>
  <link rel="preconnect" href="https://raw.githubusercontent.com" crossorigin>
  <link rel="dns-prefetch" href="https://img.shields.io">
  <link rel="dns-prefetch" href="https://raw.githubusercontent.com">

  <style>
    :root{
      --bg:#0b0b0b;
      --panel:#0f0f11;
      --muted:#9aa4ad;
      --accent:#00c853;
      --accent-2:#0072b1;
      --card:#121212;
      --glass: rgba(255,255,255,0.03);
      --code-bg:#0e0e0e;
      --radius:12px;
      --max-width:1100px;

      --transition-short: 180ms ease;
      --focus-ring: 3px;
    }

    /* Light theme variables */
    :root[data-theme='light']{
      --bg:#f6f7f8;
      --panel:#ffffff;
      --muted:#5a6770;
      --accent:#007d3b;
      --accent-2:#00609a;
      --card:#ffffff;
      --glass: rgba(0,0,0,0.03);
      --code-bg:#f3f5f6;
      color-scheme: light;
    }

    html,body{height:100%;margin:0;}
    body{
      background:linear-gradient(180deg,var(--bg) 0%, #070707 100%);
      color:#e6eef2;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.5;
      padding-bottom:80px;
      transition: background 250ms ease, color 250ms ease;
    }

    /* Skip link for keyboard users */
    .skip-link {
      position: absolute;
      left: -9999px;
      top: auto;
      width: 1px;
      height: 1px;
      overflow: hidden;
    }
    .skip-link:focus {
      left: 12px;
      top: 12px;
      width: auto;
      height: auto;
      padding: 8px 12px;
      background: var(--accent);
      color: white;
      border-radius: 8px;
      z-index: 9999;
    }

    /* Header */
    .header{
      max-width:var(--max-width);
      margin:32px auto 18px;
      padding:18px;
      border-radius:calc(var(--radius) + 6px);
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      box-shadow: 0 6px 30px rgba(0,0,0,0.6);
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      backdrop-filter: blur(6px);
      transition: background 220ms;
    }

    .brand {
      display:flex;
      gap:12px;
      align-items:center;
      min-width:0;
    }

    .banner {
      width:220px;
      max-width:35%;
      border-radius:10px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      object-fit:cover;
      background:var(--card);
      padding:6px;
      height:64px;
      aspect-ratio: 4 / 1;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      image-rendering: auto;
      loading: lazy;
    }

    .title {
      display:flex;
      flex-direction:column;
      gap:6px;
      min-width:0;
    }
    .title h1{
      margin:0;
      font-size:20px;
      color:var(--accent);
      letter-spacing:0.2px;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
    }
    .title p{
      margin:0;
      color:var(--muted);
      font-size:13px;
      max-width:58ch;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }

    .badges-row {
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      justify-content:flex-end;
    }

    .badge-img { height:34px; border-radius:6px; }

    /* Controls */
    .container{
      max-width:var(--max-width);
      margin:18px auto;
      display:grid;
      grid-template-columns: 1fr;
      gap:18px;
      padding: 0 20px;
    }

    .controls {
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
      background:var(--glass);
      padding:12px;
      border-radius:10px;
    }

    .search {
      display:flex;
      gap:8px;
      align-items:center;
      flex:1 1 420px;
      max-width:760px;
    }

    .search input{
      width:100%;
      padding:10px 12px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.04);
      background:linear-gradient(180deg, #0f0f10, #0c0c0c);
      color: #e8f5e9;
      outline:none;
      font-size:14px;
      box-shadow: inset 0 -1px 0 rgba(255,255,255,0.02);
      transition: box-shadow var(--transition-short);
    }
    .search input::placeholder { color: rgba(255,255,255,0.35); }
    .search input:focus { box-shadow: 0 0 0 var(--focus-ring) rgba(0,200,83,0.08); border-color:var(--accent); }

    .controls select{
      padding:8px 10px;border-radius:8px;background:#0e0e0e;color:#e6eef2;border:1px solid rgba(255,255,255,0.03);
    }

    /* Sections */
    section.card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      padding:18px;
      border-radius:var(--radius);
      box-shadow: 0 8px 24px rgba(0,0,0,0.55);
      border: 1px solid rgba(255,255,255,0.02);
      transition: transform 200ms var(--transition-short);
    }

    section.card h2{
      margin:0 0 10px 0;
      color:var(--accent);
      font-size:16px;
      display:flex;
      gap:10px;
      align-items:center;
      justify-content:space-between;
    }

    section.card p.lead{
      margin:0 0 12px 0;
      color:var(--muted);
      font-size:13px;
    }

    /* Command table */
    .commands-table {
      width:100%;
      border-collapse:collapse;
      overflow:hidden;
      border-radius:10px;
      display:block;
    }
    .commands-table table{
      width:100%;
      border-collapse:collapse;
      background:transparent;
      min-width:720px;
    }
    thead th{
      text-align:left;
      font-size:13px;
      color:#b6f0c3;
      padding:12px 14px;
      background:linear-gradient(90deg, rgba(0,0,0,0.2), rgba(255,255,255,0.01));
      border-bottom:1px solid rgba(255,255,255,0.03);
      position:sticky;
      top:0;
      backdrop-filter: blur(3px);
      z-index:2;
    }
    tbody td{
      padding:12px 14px;
      border-bottom:1px solid rgba(255,255,255,0.02);
      font-size:14px;
      vertical-align:top;
      word-break:break-word;
    }
    tbody tr:nth-child(even) td{ background: rgba(255,255,255,0.005); }

    .aliases { color:var(--muted); font-size:13px; }
    .action { color:#dbe; font-weight:600; }
    code.cmd {
      background:var(--code-bg);
      padding:4px 8px;
      border-radius:6px;
      color:#c8ffdd;
      font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;
      font-size:13px;
    }

    /* Small helpers */
    mark { background: linear-gradient(90deg, rgba(0,200,83,0.18), rgba(0,114,177,0.08)); padding:0 2px; border-radius:3px; }
    .no-results { color: var(--muted); padding:12px; display:none; }

    /* Collapsible section header button */
    .section-actions { display:flex; gap:8px; align-items:center; }
    .collapse-btn { background:transparent;border:1px solid rgba(255,255,255,0.04); padding:6px 8px;border-radius:8px;color:var(--muted); cursor:pointer; }
    .collapse-btn[aria-expanded="false"] { opacity:0.8; }

    /* Back to top */
    .back-to-top {
      position: fixed;
      right: 18px;
      bottom: 18px;
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 12px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.45);
      cursor:pointer;
      display:none;
      z-index:999;
    }

    /* Focus visible */
    *:focus-visible {
      outline: 3px solid var(--accent);
      outline-offset: 4px;
      border-radius: 6px;
    }

    /* Responsive */
    @media (max-width:900px){
      .header{flex-direction:column; align-items:flex-start; gap:14px;}
      .title p{max-width:100%;}
      .badges-row{justify-content:flex-start;}
      .commands-table table{min-width:0;}
      .banner { width:160px; height:48px; }
      .back-to-top { right: 12px; bottom: 12px; padding:8px; }
    }

    footer{
      text-align:center;
      color:var(--muted);
      margin-top:40px;
      font-size:13px;
      padding:24px;
    }

  </style>
</head>

<body>
  <a class="skip-link" href="#main">Pular para o conte√∫do</a>

  <!-- Header -->
  <div class="header" role="banner" aria-labelledby="site-title">
    <div class="brand" style="min-width:0;">
      <img class="banner" src="https://raw.githubusercontent.com/gabriel-araujo-git/Lynx-Assistant/main/docs/banner.png"
        alt="Lynx Assistant" />

      <div class="title">
        <h1 id="site-title">Lynx Assistant ‚Äî Manual de Comandos</h1>
        <p>Manual e refer√™ncia r√°pida dos comandos e aliases. Use a busca para filtrar por comando, alias, site ou a√ß√£o.</p>
      </div>
    </div>

    <div style="display:flex;gap:8px;align-items:center;">
      <div class="badges-row" aria-hidden="true">
        <img class="badge-img" src="https://img.shields.io/badge/Lynx%20Assistant-%23000000.svg?style=for-the-badge&logo=python&logoColor=white" alt="Lynx Assistant badge">
        <img class="badge-img" src="https://img.shields.io/badge/AI%20Powered-%23181717.svg?style=for-the-badge&logo=openai&logoColor=white" alt="AI Powered">
        <img class="badge-img" src="https://img.shields.io/badge/Version-1.1.0-%230072B1.svg?style=for-the-badge" alt="Version">
      </div>

      <button id="themeToggle" aria-label="Alternar tema" title="Alternar tema" style="padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--muted);cursor:pointer;">üåì</button>
    </div>
  </div>

  <!-- Main container -->
  <main id="main" class="container" role="main" aria-labelledby="site-title">
    <!-- Controls -->
    <div class="controls" role="region" aria-label="Controles">
      <div class="search" title="Pesquisar comandos">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round" opacity="0.7"/>
          <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="1.6" opacity="0.7"/>
        </svg>

        <input id="filterInput" type="search" placeholder="Pesquisar por comando, alias, site ou descri√ß√£o..." aria-label="Pesquisar comandos">
      </div>

      <div style="display:flex;gap:10px;align-items:center;">
        <span style="color:var(--muted);font-size:13px;">Exibir:</span>
        <select id="categorySelect" aria-label="Filtrar por categoria" >
          <option value="all">Todas as categorias</option>
          <option value="local">Aplica√ß√µes Locais</option>
          <option value="web">Navega√ß√£o / Web</option>
          <option value="streaming">Streaming / M√∫sica</option>
          <option value="prod">Produtividade</option>
          <option value="banks">Bancos / Pagamentos</option>
          <option value="study">Estudo / Pesquisa</option>
          <option value="system">Sistema / Atalhos</option>
        </select>
      </div>
    </div>

    <!-- Live region for results count (a11y) -->
    <div id="resultsLive" aria-live="polite" style="position:relative;left:-9999px;height:1px;overflow:hidden;"></div>

    <!-- Commands: Aplica√ß√µes Locais -->
    <section class="card" data-category="local" aria-labelledby="local-title">
      <h2 id="local-title">
        <span style="display:flex;align-items:center;gap:8px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:0.9"><rect x="3" y="4" width="18" height="14" rx="2" stroke="currentColor" stroke-width="1.4"/></svg>
          Aplica√ß√µes Locais
        </span>
        <span class="section-actions">
          <button class="collapse-btn" data-target="local" aria-expanded="true" title="Recolher/Expandir">Recolher</button>
        </span>
      </h2>
      <p class="lead">Comandos para abrir programas e aplica√ß√µes locais.</p>

      <div class="commands-table" role="table" aria-label="Aplica√ß√µes Locais">
        <table>
          <thead>
            <tr>
              <th class="icon-col" scope="col" aria-hidden="true"></th>
              <th scope="col">Comando</th>
              <th scope="col">Aliases</th>
              <th scope="col">A√ß√£o</th>
            </tr>
          </thead>
          <tbody id="commandsBody">
            <!-- Rows -->
            <tr data-search="abrir vscode vscode code vs abrir code open vscode" data-category="local">
              <td class="icon-col" aria-hidden="true">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M3 4.5L10 8v8L3 19.5V4.5zM11 8l10-4v16L11 16V8z" stroke="currentColor" stroke-width="1.2" fill="none"/></svg>
              </td>
              <td><code class="cmd">abrir vscode</code></td>
              <td class="aliases">vscode, code, vs, abrir code, abrir vs, open vscode</td>
              <td class="action">Abre o Visual Studio Code</td>
            </tr>

            <tr data-search="abrir ln ln lnstudio studio ln aln lnstd std abrir ln studio" data-category="local">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 6h16v12H4z" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir ln</code></td>
              <td class="aliases">ln, lnstudio, aln, studio ln, lnstd, std</td>
              <td class="action">Abre o LN Studio</td>
            </tr>

            <tr data-search="abrir ln teste ln teste alnteste teste ln lntst ln tst ln-test TST tst" data-category="local">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir ln teste</code></td>
              <td class="aliases">ln teste, alnteste, teste ln, lntst, ln tst, ln-test, TST, tst</td>
              <td class="action">Abre o LN ambiente de teste</td>
            </tr>

            <tr data-search="abrir ln prd ln prd alnprd lnprod ln produ√ß√£o prd ln ln-prd PRD prd" data-category="local">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><rect x="4" y="4" width="16" height="16" rx="2" stroke="currentColor" stroke-width="1"/></svg></td>
              <td><code class="cmd">abrir ln prd</code></td>
              <td class="aliases">ln prd, alnprd, lnprod, ln produ√ß√£o, prd ln, ln-prd, PRD, prd</td>
              <td class="action">Abre o LN ambiente de produ√ß√£o</td>
            </tr>

            <tr data-search="abrir explorer explorer explorar abrir explorador abrir explorador de arquivos" data-category="local">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 7h18" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir explorer</code></td>
              <td class="aliases">explorer, explorar, abrir explorador, abrir explorador de arquivos</td>
              <td class="action">Abre o Explorador de Arquivos</td>
            </tr>

            <tr data-search="bloco de notas notepad abrir notepad abrir bloco de notas" data-category="local">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M5 4h14v16H5z" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">bloco de notas</code></td>
              <td class="aliases">notepad, abrir notepad, abrir bloco de notas</td>
              <td class="action">Abre o Bloco de Notas</td>
            </tr>

            <!-- Add more rows as required -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Navega√ß√£o / Web (exemplo) -->
    <section class="card" data-category="web" aria-labelledby="web-title">
      <h2 id="web-title">
        <span style="display:flex;align-items:center;gap:8px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z" stroke="currentColor" stroke-width="1.2"/></svg>
          Navega√ß√£o / Web
        </span>
        <span class="section-actions">
          <button class="collapse-btn" data-target="web" aria-expanded="true" title="Recolher/Expandir">Recolher</button>
        </span>
      </h2>
      <p class="lead">Comandos para abrir sites e servi√ßos web.</p>

      <div class="commands-table" role="table" aria-label="Navega√ß√£o Web">
        <table>
          <thead>
            <tr>
              <th class="icon-col" scope="col" aria-hidden="true"></th>
              <th scope="col">Comando</th>
              <th scope="col">Aliases</th>
              <th scope="col">Site / A√ß√£o</th>
            </tr>
          </thead>
          <tbody>
            <tr data-search="abrir instagram instagram insta" data-category="web">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="4" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir instagram</code></td>
              <td class="aliases">instagram, insta</td>
              <td class="action"><a href="https://www.instagram.com" rel="noopener noreferrer" target="_blank">instagram.com</a></td>
            </tr>

            <tr data-search="abrir facebook facebook face fb" data-category="web">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M12 2v20" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir facebook</code></td>
              <td class="aliases">facebook, face, fb</td>
              <td class="action"><a href="https://www.facebook.com" rel="noopener noreferrer" target="_blank">facebook.com</a></td>
            </tr>

            <tr data-search="abrir twitter twitter x x.com" data-category="web">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M4 8c4 1 7-1 9-3 0 3 3 6 7 6" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir twitter</code></td>
              <td class="aliases">twitter, x, x.com</td>
              <td class="action"><a href="https://x.com" rel="noopener noreferrer" target="_blank">x.com</a></td>
            </tr>

            <tr data-search="abrir chatgpt chatgpt gpt" data-category="web">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 12h18" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir chatgpt</code></td>
              <td class="aliases">chatgpt, gpt</td>
              <td class="action"><a href="https://chat.openai.com" rel="noopener noreferrer" target="_blank">chat.openai.com</a></td>
            </tr>

            <tr data-search="abrir youtube youtube yt" data-category="web">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M10 8l6 4-6 4V8z" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir youtube</code></td>
              <td class="aliases">youtube, yt</td>
              <td class="action"><a href="https://www.youtube.com" rel="noopener noreferrer" target="_blank">youtube.com</a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Streaming -->
    <section class="card" data-category="streaming" aria-labelledby="stream-title">
      <h2 id="stream-title">
        <span style="display:flex;align-items:center;gap:8px;">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M3 7h18v10H3z" stroke="currentColor" stroke-width="1.2"/></svg>
          Streaming & M√∫sica
        </span>
        <span class="section-actions">
          <button class="collapse-btn" data-target="streaming" aria-expanded="true" title="Recolher/Expandir">Recolher</button>
        </span>
      </h2>
      <p class="lead">Comandos para abrir servi√ßos de m√≠dia e streaming.</p>

      <div class="commands-table" role="table" aria-label="Streaming">
        <table>
          <thead>
            <tr><th class="icon-col" scope="col" aria-hidden="true"></th><th scope="col">Comando</th><th scope="col">Aliases</th><th scope="col">Site</th></tr>
          </thead>
          <tbody>
            <tr data-search="abrir netflix netflix nfx" data-category="streaming">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 4v16" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir netflix</code></td>
              <td class="aliases">netflix, nfx</td>
              <td class="action"><a href="https://www.netflix.com" rel="noopener noreferrer" target="_blank">netflix.com</a></td>
            </tr>

            <tr data-search="abrir spotify spotify spot" data-category="streaming">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir spotify</code></td>
              <td class="aliases">spotify, spot</td>
              <td class="action"><a href="https://www.spotify.com" rel="noopener noreferrer" target="_blank">spotify.com</a></td>
            </tr>

            <tr data-search="abrir twitch twitch tw" data-category="streaming">
              <td class="icon-col" aria-hidden="true"><svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M6 4h12v12H9l-3 3z" stroke="currentColor" stroke-width="1.2"/></svg></td>
              <td><code class="cmd">abrir twitch</code></td>
              <td class="aliases">twitch, tw</td>
              <td class="action"><a href="https://www.twitch.tv" rel="noopener noreferrer" target="_blank">twitch.tv</a></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

    <!-- Produtividade, Bancos, Estudo, Sistema etc. (omiti repeti√ß√£o por brevidade) -->
    <!-- ... keep other sections as in your original file ... -->

    <p class="no-results" id="noResults">Nenhum comando encontrado.</p>

  </main>

  <footer role="contentinfo">
    ¬© 2025 Lynx Assistant ‚Äî Desenvolvido por Gabriel Ara√∫jo ¬∑ Arquivo: index.html
  </footer>

  <button id="backToTop" class="back-to-top" aria-label="Voltar ao topo">Topo ‚Üë</button>

  <!-- Script: busca, highlight, filtros, tema, collapse, acessibilidade -->
  <script>
    (function(){
      const input = document.getElementById('filterInput');
      const select = document.getElementById('categorySelect');
      const rows = Array.from(document.querySelectorAll('tbody tr[data-search]'));
      const noResults = document.getElementById('noResults');
      const resultsLive = document.getElementById('resultsLive');
      const backToTop = document.getElementById('backToTop');
      const collapseButtons = Array.from(document.querySelectorAll('.collapse-btn'));
      const themeToggle = document.getElementById('themeToggle');

      // Theme initialization
      const root = document.documentElement;
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme) root.dataset.theme = savedTheme;
      else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) root.dataset.theme = 'light';
      else root.dataset.theme = 'dark';

      function toggleTheme(){
        const now = root.dataset.theme === 'dark' ? 'light' : 'dark';
        root.dataset.theme = now;
        localStorage.setItem('theme', now);
      }
      themeToggle.addEventListener('click', toggleTheme);

      // Escape HTML for safe highlight injection
      function escapeHtml(str){
        return String(str)
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/>/g, '&gt;')
          .replace(/"/g, '&quot;')
          .replace(/'/g, '&#39;');
      }

      // Highlight matches in a given element's text (safe)
      function highlightElement(el, query){
        const text = el.dataset.orig ?? el.textContent;
        if (!el.dataset.orig) el.dataset.orig = text;
        if (!query) {
          el.innerHTML = escapeHtml(el.dataset.orig);
          return;
        }
        const q = query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); // escape regex
        const regex = new RegExp('('+q+')', 'ig');
        el.innerHTML = escapeHtml(el.dataset.orig).replace(regex, '<mark>$1</mark>');
      }

      // Debounce helper
      function debounce(fn, wait=120){
        let t;
        return function(...args){
          clearTimeout(t);
          t = setTimeout(()=>fn.apply(this,args), wait);
        };
      }

      function applyFilters(){
        const q = String(input.value || '').trim().toLowerCase();
        const cat = select.value;
        let visibleCount = 0;

        rows.forEach(row=>{
          const text = String(row.getAttribute('data-search') || '').toLowerCase();
          const rowCat = row.getAttribute('data-category') || 'all';
          const matchesQuery = q === '' || text.indexOf(q) !== -1;
          const matchesCat = (cat === 'all') || (rowCat === cat);

          const show = matchesQuery && matchesCat;
          row.style.display = show ? '' : 'none';
          if (show) visibleCount++;

          // Highlight inside cells if visible
          const cmdCell = row.querySelector('code.cmd');
          const aliasesCell = row.querySelector('.aliases');
          const actionCell = row.querySelector('.action');

          if (cmdCell) highlightElement(cmdCell, q);
          if (aliasesCell) highlightElement(aliasesCell, q);
          if (actionCell) highlightElement(actionCell, q);
        });

        // ARIA live update
        resultsLive.textContent = visibleCount + ' comando(s) exibidos';

        // Show/Hide no results
        noResults.style.display = visibleCount ? 'none' : 'block';
      }

      const applyFiltersDebounced = debounce(applyFilters, 80);

      input.addEventListener('input', applyFiltersDebounced);
      select.addEventListener('change', applyFiltersDebounced);

      // "/" focus shortcut like docs
      window.addEventListener('keydown', (e)=>{
        const tag = document.activeElement.tagName;
        if(e.key === '/' && tag !== 'INPUT' && tag !== 'TEXTAREA'){
          e.preventDefault();
          input.focus();
        }
      });

      // initial apply
      applyFilters();

      // Collapse/Expand sections
      collapseButtons.forEach(btn=>{
        btn.addEventListener('click', () => {
          const targetCategory = btn.getAttribute('data-target');
          const section = document.querySelector('section.card[data-category="'+targetCategory+'"]');
          if (!section) return;
          const bodyTables = section.querySelectorAll('.commands-table, .lead, table, tbody');
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', String(!expanded));
          btn.textContent = expanded ? 'Expandir' : 'Recolher';
          section.style.display = expanded ? 'none' : '';
          // Note: simpler UX: hide section entirely when collapsed
        });
      });

      // Back to top visibility
      window.addEventListener('scroll', () => {
        if (window.scrollY > 300) backToTop.style.display = 'block';
        else backToTop.style.display = 'none';
      });
      backToTop.addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

      // Accessibility: ensure links open in new tab have rel set (already set in markup)
      // Performance small: lazy-load images (handled by browser if attr present)

      // Keyboard: ensure search input clear is accessible with ESC
      input.addEventListener('keydown', (e)=>{
        if (e.key === 'Escape') {
          input.value = '';
          applyFilters();
          input.blur();
        }
      });

      // Optional: observe DOM mutations if you plan to add rows dynamically (not added here)
    })();
  </script>
</body>
</html>
